## File generated by the BNF Converter (bnfc 2.9.5).
JAVAC=javac
JAVAC_FLAGS=-sourcepath . -d ../bin 
JAVA=java
JAVA_FLAGS= 
PARSER=${JAVA} ${JAVA_FLAGS} java_cup.Main
PARSER_FLAGS=-nopositions -expect 100 
LEXER=${JAVA} ${JAVA_FLAGS} JLex.Main
LEXER_FLAGS= 
all : test run


test : absyn \
	jlc/lib/javalette/Yylex.class \
	jlc/lib/javalette/PrettyPrinter.class \
	jlc/lib/javalette/Test.class \
	jlc/lib/javalette/VisitSkel.class \
	jlc/lib/javalette/ComposVisitor.class \
	jlc/lib/javalette/AbstractVisitor.class \
	jlc/lib/javalette/FoldVisitor.class \
	jlc/lib/javalette/AllVisitor.class \
	jlc/lib/javalette/parser.class \
	jlc/lib/javalette/sym.class \
	jlc/lib/javalette/Test.class \
	jlc/main/Operations/Add.class \
	jlc/main/Operations/AddType.class \
	jlc/main/Operations/And.class \
	jlc/main/Operations/Ass.class \
	jlc/main/Variables/BooleanVariable.class \
	jlc/main/Ctx.class \
	jlc/main/Variables/DoubleVariable.class \
	jlc/main/Function.class \
	jlc/main/Variables/IntVariable.class \
	jlc/main/Variables/StringVariable.class \
	jlc/main/Operations/Mul.class \
	jlc/main/Operations/MulType.class \
	jlc/main/FnVisit.class \
	jlc/main/Operations/Neg.class \
	jlc/main/Operations/Not.class \
	jlc/main/Operations/Operation.class \
	jlc/main/Operations/OperationError.class \
	jlc/main/Operations/Or.class \
	jlc/main/Variables/Variable.class \
	jlc/main/Variables/VariableType.class \
	jlc/main/Variables/VoidVariable.class \
	jlc/main/TypeCheckerVisit.class \
	jlc/main/Operations/Rel.class \
	jlc/main/Operations/RelType.class \
	jlc/main/Main.class \
	jlc/main/Instructions/LLVM/LLVMAddInstruction.class \
	jlc/main/Instructions/LLVM/LLVMAllocaInstruction.class \
	jlc/main/Instructions/LLVM/LLVMAndInstruction.class \
	jlc/main/Instructions/LLVM/LLVMFuncCallIntruction.class \
	jlc/main/Instructions/LLVM/LLVMFuncDefenitionEnd.class \
	jlc/main/Instructions/LLVM/LLVMFuncDefenition.class \
	jlc/main/Instructions/LLVM/LLVMJmpInstruction.class \
	jlc/main/Instructions/LLVM/LLVMLabelInstruction.class \
	jlc/main/Instructions/LLVM/LLVMLoadInstruction.class \
	jlc/main/Instructions/LLVM/LLVMMulInstruction.class \
	jlc/main/Instructions/LLVM/LLVMOrInstruction.class \
	jlc/main/Instructions/LLVM/LLVMRelInstruction.class \
	jlc/main/Instructions/LLVM/LLVMReturnInstruction.class \
	jlc/main/Instructions/LLVM/LLVMStoreInstruction.class \
	jlc/main/Instructions/LLVM/LLVMNegInstruction.class \
	jlc/main/Instructions/LLVM/LLVMNotInstruction.class \
	jlc/main/Instructions/LLVM/LLVMGlobalStringInstruction.class \
	jlc/main/Instructions/LLVM/LLVMLoadGlobalStringInstruction.class \
	jlc/main/Instructions/LLVM/LLVMPhiInstruction.class \
	jlc/main/Instructions/LLVM/LLVMSelectInstruction.class \
	jlc/main/Instructions/LLVM/LLVMGetElementPtrInstruction.class \
	jlc/main/Instructions/LLVM/LLVMBitcastInstruction.class \
	jlc/main/LLVMCodeGenCtx.class \
	jlc/main/LLVMCodeGeneratorVisit.class \
	jlc/main/Instructions/LLVM/Utils.class

RESOLVED_BIN_PATH := $(shell pwd)/../bin

run:
	@sed -i "4s|.*|export CLASSPATH=$(RESOLVED_BIN_PATH):\$$CLASSPATH|" ../jlc

.PHONY : absyn

%.class : %.java
	${JAVAC} ${JAVAC_FLAGS} $^

absyn : jlc/lib/javalette/Absyn/Prog.java jlc/lib/javalette/Absyn/Program.java jlc/lib/javalette/Absyn/TopDef.java jlc/lib/javalette/Absyn/FnDef.java jlc/lib/javalette/Absyn/ArrAss.java jlc/lib/javalette/Absyn/ArrIndex.java jlc/lib/javalette/Absyn/ArrType.java jlc/lib/javalette/Absyn/ArrLen.java jlc/lib/javalette/Absyn/ArrIncr.java jlc/lib/javalette/Absyn/NewArr.java jlc/lib/javalette/Absyn/ArrDecr.java jlc/lib/javalette/Absyn/ForEach.java jlc/lib/javalette/Absyn/ListTopDef.java jlc/lib/javalette/Absyn/Arg.java jlc/lib/javalette/Absyn/Argument.java jlc/lib/javalette/Absyn/ListArg.java jlc/lib/javalette/Absyn/Blk.java jlc/lib/javalette/Absyn/Block.java jlc/lib/javalette/Absyn/ListStmt.java jlc/lib/javalette/Absyn/Stmt.java jlc/lib/javalette/Absyn/Empty.java jlc/lib/javalette/Absyn/BStmt.java jlc/lib/javalette/Absyn/Decl.java jlc/lib/javalette/Absyn/Ass.java jlc/lib/javalette/Absyn/Incr.java jlc/lib/javalette/Absyn/Decr.java jlc/lib/javalette/Absyn/Ret.java jlc/lib/javalette/Absyn/VRet.java jlc/lib/javalette/Absyn/Cond.java jlc/lib/javalette/Absyn/CondElse.java jlc/lib/javalette/Absyn/While.java jlc/lib/javalette/Absyn/SExp.java jlc/lib/javalette/Absyn/Item.java jlc/lib/javalette/Absyn/NoInit.java jlc/lib/javalette/Absyn/Init.java jlc/lib/javalette/Absyn/ListItem.java jlc/lib/javalette/Absyn/Type.java jlc/lib/javalette/Absyn/Int.java jlc/lib/javalette/Absyn/Doub.java jlc/lib/javalette/Absyn/Bool.java jlc/lib/javalette/Absyn/Void.java jlc/lib/javalette/Absyn/Fun.java jlc/lib/javalette/Absyn/ListType.java jlc/lib/javalette/Absyn/Expr.java jlc/lib/javalette/Absyn/EVar.java jlc/lib/javalette/Absyn/ELitInt.java jlc/lib/javalette/Absyn/ELitDoub.java jlc/lib/javalette/Absyn/ELitTrue.java jlc/lib/javalette/Absyn/ELitFalse.java jlc/lib/javalette/Absyn/EApp.java jlc/lib/javalette/Absyn/EString.java jlc/lib/javalette/Absyn/Neg.java jlc/lib/javalette/Absyn/Not.java jlc/lib/javalette/Absyn/EMul.java jlc/lib/javalette/Absyn/EAdd.java jlc/lib/javalette/Absyn/ERel.java jlc/lib/javalette/Absyn/EAnd.java jlc/lib/javalette/Absyn/EOr.java jlc/lib/javalette/Absyn/ListExpr.java jlc/lib/javalette/Absyn/AddOp.java jlc/lib/javalette/Absyn/Plus.java jlc/lib/javalette/Absyn/Minus.java jlc/lib/javalette/Absyn/MulOp.java jlc/lib/javalette/Absyn/Times.java jlc/lib/javalette/Absyn/Div.java jlc/lib/javalette/Absyn/Mod.java jlc/lib/javalette/Absyn/RelOp.java jlc/lib/javalette/Absyn/LTH.java jlc/lib/javalette/Absyn/LE.java jlc/lib/javalette/Absyn/GTH.java jlc/lib/javalette/Absyn/GE.java jlc/lib/javalette/Absyn/EQU.java jlc/lib/javalette/Absyn/NE.java jlc/lib/javalette/Absyn/Prog.java
	${JAVAC} ${JAVAC_FLAGS} $^

jlc/lib/javalette/Yylex.java : jlc/lib/javalette/Yylex
	${LEXER} ${LEXER_FLAGS} jlc/lib/javalette/Yylex

jlc/lib/javalette/parser.java jlc/lib/javalette/sym.java : jlc/lib/javalette/_cup.cup
	${PARSER} ${PARSER_FLAGS} jlc/lib/javalette/_cup.cup
	mv parser.java sym.java jlc/lib/javalette/

jlc/lib/javalette/Yylex.class : jlc/lib/javalette/Yylex.java jlc/lib/javalette/parser.java jlc/lib/javalette/sym.java

jlc/lib/javalette/sym.class : jlc/lib/javalette/sym.java

jlc/lib/javalette/parser.class : jlc/lib/javalette/parser.java jlc/lib/javalette/sym.java

jlc/lib/javalette/PrettyPrinter.class : jlc/lib/javalette/PrettyPrinter.java

clean :
	rm -f jlc/lib/javalette/Absyn/*.class jlc/lib/javalette/*.class
	rm -rf ../bin

distclean : vclean

vclean :
	 rm -f jlc/lib/javalette/Absyn/Prog.java jlc/lib/javalette/Absyn/Program.java jlc/lib/javalette/Absyn/TopDef.java jlc/lib/javalette/Absyn/FnDef.java jlc/lib/javalette/Absyn/ListTopDef.java jlc/lib/javalette/Absyn/Arg.java jlc/lib/javalette/Absyn/Argument.java jlc/lib/javalette/Absyn/ListArg.java jlc/lib/javalette/Absyn/Blk.java jlc/lib/javalette/Absyn/Block.java jlc/lib/javalette/Absyn/ListStmt.java jlc/lib/javalette/Absyn/Stmt.java jlc/lib/javalette/Absyn/Empty.java jlc/lib/javalette/Absyn/BStmt.java jlc/lib/javalette/Absyn/Decl.java jlc/lib/javalette/Absyn/Ass.java jlc/lib/javalette/Absyn/Incr.java jlc/lib/javalette/Absyn/Decr.java jlc/lib/javalette/Absyn/Ret.java jlc/lib/javalette/Absyn/VRet.java jlc/lib/javalette/Absyn/Cond.java jlc/lib/javalette/Absyn/CondElse.java jlc/lib/javalette/Absyn/While.java jlc/lib/javalette/Absyn/SExp.java jlc/lib/javalette/Absyn/Item.java jlc/lib/javalette/Absyn/NoInit.java jlc/lib/javalette/Absyn/Init.java jlc/lib/javalette/Absyn/ListItem.java jlc/lib/javalette/Absyn/Type.java jlc/lib/javalette/Absyn/Int.java jlc/lib/javalette/Absyn/Doub.java jlc/lib/javalette/Absyn/Bool.java jlc/lib/javalette/Absyn/Void.java jlc/lib/javalette/Absyn/Fun.java jlc/lib/javalette/Absyn/ListType.java jlc/lib/javalette/Absyn/Expr.java jlc/lib/javalette/Absyn/EVar.java jlc/lib/javalette/Absyn/ELitInt.java jlc/lib/javalette/Absyn/ELitDoub.java jlc/lib/javalette/Absyn/ELitTrue.java jlc/lib/javalette/Absyn/ELitFalse.java jlc/lib/javalette/Absyn/EApp.java jlc/lib/javalette/Absyn/EString.java jlc/lib/javalette/Absyn/Neg.java jlc/lib/javalette/Absyn/Not.java jlc/lib/javalette/Absyn/EMul.java jlc/lib/javalette/Absyn/EAdd.java jlc/lib/javalette/Absyn/ERel.java jlc/lib/javalette/Absyn/EAnd.java jlc/lib/javalette/Absyn/EOr.java jlc/lib/javalette/Absyn/ListExpr.java jlc/lib/javalette/Absyn/AddOp.java jlc/lib/javalette/Absyn/Plus.java jlc/lib/javalette/Absyn/Minus.java jlc/lib/javalette/Absyn/MulOp.java jlc/lib/javalette/Absyn/Times.java jlc/lib/javalette/Absyn/Div.java jlc/lib/javalette/Absyn/Mod.java jlc/lib/javalette/Absyn/RelOp.java jlc/lib/javalette/Absyn/LTH.java jlc/lib/javalette/Absyn/LE.java jlc/lib/javalette/Absyn/GTH.java jlc/lib/javalette/Absyn/GE.java jlc/lib/javalette/Absyn/EQU.java jlc/lib/javalette/Absyn/NE.java jlc/lib/javalette/Absyn/Prog.class jlc/lib/javalette/Absyn/Program.class jlc/lib/javalette/Absyn/TopDef.class jlc/lib/javalette/Absyn/FnDef.class jlc/lib/javalette/Absyn/ListTopDef.class jlc/lib/javalette/Absyn/Arg.class jlc/lib/javalette/Absyn/Argument.class jlc/lib/javalette/Absyn/ListArg.class jlc/lib/javalette/Absyn/Blk.class jlc/lib/javalette/Absyn/Block.class jlc/lib/javalette/Absyn/ListStmt.class jlc/lib/javalette/Absyn/Stmt.class jlc/lib/javalette/Absyn/Empty.class jlc/lib/javalette/Absyn/BStmt.class jlc/lib/javalette/Absyn/Decl.class jlc/lib/javalette/Absyn/Ass.class jlc/lib/javalette/Absyn/Incr.class jlc/lib/javalette/Absyn/Decr.class jlc/lib/javalette/Absyn/Ret.class jlc/lib/javalette/Absyn/VRet.class jlc/lib/javalette/Absyn/Cond.class jlc/lib/javalette/Absyn/CondElse.class jlc/lib/javalette/Absyn/While.class jlc/lib/javalette/Absyn/SExp.class jlc/lib/javalette/Absyn/Item.class jlc/lib/javalette/Absyn/NoInit.class jlc/lib/javalette/Absyn/Init.class jlc/lib/javalette/Absyn/ListItem.class jlc/lib/javalette/Absyn/Type.class jlc/lib/javalette/Absyn/Int.class jlc/lib/javalette/Absyn/Doub.class jlc/lib/javalette/Absyn/Bool.class jlc/lib/javalette/Absyn/Void.class jlc/lib/javalette/Absyn/Fun.class jlc/lib/javalette/Absyn/ListType.class jlc/lib/javalette/Absyn/Expr.class jlc/lib/javalette/Absyn/EVar.class jlc/lib/javalette/Absyn/ELitInt.class jlc/lib/javalette/Absyn/ELitDoub.class jlc/lib/javalette/Absyn/ELitTrue.class jlc/lib/javalette/Absyn/ELitFalse.class jlc/lib/javalette/Absyn/EApp.class jlc/lib/javalette/Absyn/EString.class jlc/lib/javalette/Absyn/Neg.class jlc/lib/javalette/Absyn/Not.class jlc/lib/javalette/Absyn/EMul.class jlc/lib/javalette/Absyn/EAdd.class jlc/lib/javalette/Absyn/ERel.class jlc/lib/javalette/Absyn/EAnd.class jlc/lib/javalette/Absyn/EOr.class jlc/lib/javalette/Absyn/ListExpr.class jlc/lib/javalette/Absyn/AddOp.class jlc/lib/javalette/Absyn/Plus.class jlc/lib/javalette/Absyn/Minus.class jlc/lib/javalette/Absyn/MulOp.class jlc/lib/javalette/Absyn/Times.class jlc/lib/javalette/Absyn/Div.class jlc/lib/javalette/Absyn/Mod.class jlc/lib/javalette/Absyn/RelOp.class jlc/lib/javalette/Absyn/LTH.class jlc/lib/javalette/Absyn/LE.class jlc/lib/javalette/Absyn/GTH.class jlc/lib/javalette/Absyn/GE.class jlc/lib/javalette/Absyn/EQU.class jlc/lib/javalette/Absyn/NE.class
	 rm -f jlc/lib/javalette/Absyn/*.class
	 rmdir jlc/lib/javalette/Absyn
	 rm -f jlc/lib/javalette/Yylex jlc/lib/javalette/_cup.cup jlc/lib/javalette/Yylex.java jlc/lib/javalette/VisitSkel.java jlc/lib/javalette/ComposVisitor.java jlc/lib/javalette/AbstractVisitor.java jlc/lib/javalette/FoldVisitor.java jlc/lib/javalette/AllVisitor.java jlc/lib/javalette/PrettyPrinter.java jlc/lib/javalette/Skeleton.java jlc/lib/javalette/Test.java jlc/lib/javalette/parser.java jlc/lib/javalette/sym.java jlc/lib/javalette/*.class
	 rm -f Makefile
	 rmdir -p jlc/lib/javalette
